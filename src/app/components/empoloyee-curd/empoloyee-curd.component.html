<h1 class="text-center"> Employee CURD</h1>

<div class="container">
    <div class="row">
        <div class="col-sm-8">
<table class="table table-striped table bordered">
    <thead>
        <tr>
            <th>Empid</th>
            <th>Name</th>
            <th>Salary</th>
            <th>Gender</th>
        </tr>
    </thead>
    <tbody>
        <tr  *ngFor="let emp of employees; let i = index">
            <td>{{emp.eId}}</td>
            <td>{{emp.name}}</td>
            <td>{{emp.sal}}</td>
            <td>{{emp.gender}}</td>
            <td>
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" 
                data-bs-target="#exampleModal"(click)="viewEmp(emp)">
                   View
                  </button>
                <button class="btn btn-danger mx-1" (click)="deleteEmp(i)">Delete</button>
                
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" 
                  data-bs-target="#exampleModal"(click)="updateEmp(emp)">
                     update
                    </button>
                    <!--
                <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                 data-bs-target="#updateModal" (click)="updateEmp(emp)">
                  update
                </button>-->
            </td>
        
        </tr>
      
    </tbody>

</table>
</div>
<div class="col-sm-4">
  <h3 class="text-center">Add Employee</h3>
  <div class="border p-3">
      <p>
          Emp Id: <input #empid />
      </p>
      <p>
          Name: <input #name />
      </p>
      <p>
          Salary: <input #sal />
      </p>
      <p>
          gender: <input #gender />
      </p>
      <button class="btn btn-success" (click)="addEmp(empid.value,name.value,sal.value,gender.value)">Add
          Employee</button>
          "updateEmp(emp)"
  </div>
</div>
</div>
</div>



 <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" 
 aria-hidden="true" [ngStyle]="{'display':'display'}">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Employeed Data</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" *ngIf="isShow;else noshow">
          
            <p> EmpId : {{selectedEmployee?.eId}}</p>
            <p>Name : {{selectedEmployee?.name}}</p>
            <p>Salary : {{selectedEmployee?.sal}}</p>
            <p>Gender : {{selectedEmployee?.gender}}</p>
        </div>
        <ng-template #noshow>
          <div class="modal-body">
            <p>Emp Id:<input type="text"  id="eId" value={{selectedEmployee?.eId}} /><br /></p> 
            <p>Name:<input type="text" id="name" value={{selectedEmployee?.name}} /><br /></p> 
            <p>Salary:<input type="text" id="sal" value={{selectedEmployee?.sal}} /><br /></p> 
            <p>Gender :<input type="text"  id="gender" value= {{selectedEmployee?.gender}} /><br /></p> 
             </div>
           <div class="modal-footer">
             <button type="button" class="btn btn-primary" (click)="insertEmployee()">update changes</button>
             <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
         
        </ng-template>
        <div class="modal-footer" *ngIf="isShow">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
       </div>
      </div>
    </div>
  </div>

<!--edit-->
<!-- Modal -->
<div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="updateModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="updateModalLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       <p>Emp Id:<input type="text"  id="eId" value={{selectedEmployee?.eId}} /><br /></p> 
       <p>Name:<input type="text" id="name" value={{selectedEmployee?.name}} /><br /></p> 
       <p>Salary:<input type="text" id="sal" value={{selectedEmployee?.sal}} /><br /></p> 
       <p>Gender :<input type="text"  id="gender" value= {{selectedEmployee?.gender}} /><br /></p> 
        </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="insertEmployee()">Save changes</button>
      </div>
    </div>
  </div>
</div>